<div class="bg-white shadow rounded overflow-hidden group">
  <div class="relative">
    <img [src]="image" [alt]="product.name" class="object-contain w-full max-h-56">
    <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition">
      <a [routerLink]="['/products', product.idProduct]"
         class="text-white text-lg w-9 h-8 rounded-full bg-primary flex items-center justify-center hover:bg-gray-800 transition"
         [title]="'View ' + product.name">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
        </svg>
      </a>
    </div>
  </div>
  <div class="pt-4 pb-3 px-4">
    <a [routerLink]="['/products', product.idProduct]" class="flex">
      <h4 class="uppercase font-medium mb-2 text-gray-800 hover:text-primary transition">
        {{ product.name | truncate: 15}}
      </h4>
      <p class="ml-auto text-lg text-gray-800 font-medium">{{ product.price | currency }}</p>
    </a>
    <div class="flex gap-x-2">
      <a [routerLink]="['/products']" [queryParams]="{category: product.category.idCategory }" class="mb-1 bg-gray-100 text-gray-800 text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded mr-2 border border-gray-500">
        <svg class="w-2.5 h-2.5 mr-1.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
        </svg>
        {{ product.category.name  }}
      </a>
      <a [routerLink]="['/products']" [queryParams]="{brand: product.brand }" class="mb-1 bg-gray-100 text-gray-800 text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded mr-2 border border-gray-500">
        <svg class="w-2.5 h-2.5 mr-1.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6z" />
        </svg>
        {{ product.brand  }}
      </a>
      <a [routerLink]="['/products']" [queryParams]="{ color: product.color }" class="border border-gray-200 rounded-sm h-6 w-6 cursor-pointer shadow-sm block" style="background-color: {{product.color}}"></a>
    </div>
  </div>
  <a *ngIf="!isInCart"
     href="#"
     class="block w-full py-1 text-center font-medium text-white bg-primary border border-primary rounded-b hover:bg-transparent hover:text-primary transition">
    Add to cart
  </a>
  <a *ngIf="isInCart"
     routerLink="/cart"
     class="block w-full py-1 text-center font-medium  text-white bg-secondary border border-secondary rounded-b hover:bg-transparent hover:text-secondary transition">
    Already in cart
  </a>
</div>
